<div class="info-table">
  <p class="title-badge accent-yellow accent-yellow-background">
    Landkreisübersicht
  </p>

  <div class="info-bar">
    <input
      (input)="change()"
      [(ngModel)]="searchTerm"
      class="info-bar__search"
      placeholder="Landkreis suchen"
    />
    <div class="info-bar__toggle-button" [ngClass]="{'accent-yellow accent-yellow-background': selectedFavorites}" (click)="change(true)">
      <i class="far fa-bookmark"></i>
    </div>
  </div>

  <div class="grid">
    <div class="row">
      <div class="cell heading" (click)="sort('State')">
        <p>Landkreis</p>
        <i *ngIf="key == 'State'" class="fas fa-sort-alpha-{{ reverse ? 'up' : 'down' }}"></i>
      </div>
      <div class="cell heading" (click)="sort('TotalCases')">
        <p>Bestätigt</p>
        <i *ngIf="key == 'TotalCases'" class="fas fa-sort-numeric-{{ reverse ? 'up' : 'down' }}"></i>
      </div>
      <div class="cell heading" (click)="sort('ActiveCases')">
        <p>Aktiv</p>
        <i *ngIf="key == 'ActiveCases'" class="fas fa-sort-numeric-{{ reverse ? 'up' : 'down' }}"></i>
      </div>
      <div class="cell heading" (click)="sort('Recovered')">
        <p>Genesen</p>
        <i *ngIf="key == 'Recovered'" class="fas fa-sort-numeric-{{ reverse ? 'up' : 'down' }}"></i>
      </div>
      <div class="cell heading" (click)="sort('Incidence7')">
        <p>Inzidenz</p>
        <i *ngIf="key == 'Incidence7'" class="fas fa-sort-numeric-{{ reverse ? 'up' : 'down' }}"></i>
      </div>
      <div class="cell heading" (click)="sort('Deaths')">
        <p>Verstorben</p>
        <i *ngIf="key == 'Deaths'" class="fas fa-sort-numeric-{{ reverse ? 'up' : 'down' }}"></i>
      </div>
    </div>

    <div *ngFor="let county of this.searchCountys | orderBy: key: reverse" class="row">
      <div class="cell state">
        <p
          [style.font-weight]="this.favoriteService.isFavorite(county.CountyId) ? 'bold': 'normal'">{{ county.StateId == 0 ? 'Deutschland' : county.State }}</p>
        <i class="fa{{ this.favoriteService.isFavorite(county.CountyId) ? 's' : 'r' }} fa-bookmark"
           (click)="this.favoriteService.toggleFavorite(county.CountyId)"
           [style.color]="this.favoriteService.isFavorite(county.CountyId) ? '#ffc71d': '#9e9688'" *ngIf="county.StateId != 0"></i>
      </div>
      <div class="cell">
        <div class="cell__difference-to-previous-day accent-red">
          <i class="fas fa-arrow-down"></i>
          <p>NaN</p>
        </div>
        <p>{{ county.TotalCases }}</p>
      </div>
      <div class="cell">
        <div class="cell__difference-to-previous-day accent-blue">
          <i class="fas fa-arrow-up"></i>
          <p>NaN</p>
        </div>
        <p>{{ county.ActiveCases }}</p>
      </div>
      <div class="cell">
        <div class="cell__difference-to-previous-day accent-green">
          <i class="fas fa-arrow-up"></i>
          <p>NaN</p>
        </div>
        <p>{{ county.Recovered }}</p>
      </div>
      <div class="cell">
        <div class="cell__difference-to-previous-day accent-purple">
          <i class="fas fa-arrow-down"></i>
          <p>NaN</p>
        </div>
        <p>{{ county.Incidence7.toFixed(1).replace(".", ",") }}</p>
      </div>
      <div class="cell">
        <div class="cell__difference-to-previous-day accent-light-gray">
          <i class="fas fa-arrow-down"></i>
          <p>NaN</p>
        </div>
        <p>{{ county.Deaths }}</p>
      </div>
    </div>
  </div>
</div>
